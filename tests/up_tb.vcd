$date
	Wed Jan 24 01:06:47 2024
$end
$version
	Icarus Verilog
$end
$timescale
	1ps
$end
$scope module up_tb $end
$var reg 1 ! clk $end
$var reg 1 " rst $end
$var integer 32 # i [31:0] $end
$scope module uProcessor $end
$var wire 1 ! clk_in $end
$var wire 1 " rst_in $end
$var wire 1 $ stack_push $end
$var wire 1 % stack_pop $end
$var wire 1 & stack_full $end
$var wire 1 ' stack_empty $end
$var wire 1 ( rst_id $end
$var wire 24 ) rom_data [23:0] $end
$var wire 1 * rf_en $end
$var wire 8 + ret_addr [7:0] $end
$var wire 16 , reg_out [15:0] $end
$var wire 1 - r_or_w $end
$var wire 8 . pc_bits [7:0] $end
$var wire 8 / op [7:0] $end
$var wire 16 0 mux_out [15:0] $end
$var wire 1 1 ldi $end
$var wire 1 2 jmp_en $end
$var wire 1 3 alu_overflow $end
$var wire 16 4 alu_out [15:0] $end
$var wire 1 5 acu_zero $end
$var wire 16 6 acu_out [15:0] $end
$var wire 1 7 acu_en $end
$var reg 16 8 out [15:0] $end
$var reg 1 9 rst $end
$scope module Accumulator $end
$var wire 1 ! clk $end
$var wire 16 : in [15:0] $end
$var wire 1 7 ce $end
$var parameter 32 ; WIDTH $end
$var reg 16 < out [15:0] $end
$var reg 1 5 zero $end
$upscope $end
$scope module Alu $end
$var wire 8 = op [7:0] $end
$var wire 16 > in2 [15:0] $end
$var wire 16 ? in1 [15:0] $end
$var parameter 32 @ WIDTH $end
$var reg 16 A out [15:0] $end
$var reg 1 3 overflow $end
$upscope $end
$scope module InstructionDecoder $end
$var wire 1 5 acu_zero $end
$var wire 8 B instr [7:0] $end
$var wire 2 C stack_flags [1:0] $end
$var reg 1 7 acu_en $end
$var reg 1 2 jmp_en $end
$var reg 1 1 ldi $end
$var reg 8 D op [7:0] $end
$var reg 1 - r_or_w $end
$var reg 1 * rf_en $end
$var reg 1 ( rst $end
$var reg 2 E stack_control [1:0] $end
$upscope $end
$scope module Mux $end
$var wire 16 F in1 [15:0] $end
$var wire 16 G in2 [15:0] $end
$var wire 1 1 sel $end
$var parameter 32 H WIDTH $end
$var reg 16 I out [15:0] $end
$upscope $end
$scope module ProgramCounter $end
$var wire 1 ! clk $end
$var wire 8 J jmp_addr [7:0] $end
$var wire 1 2 jmp_en $end
$var wire 1 9 rst $end
$var reg 8 K pc [7:0] $end
$upscope $end
$scope module Registers $end
$var wire 1 ! clk $end
$var wire 1 * en $end
$var wire 16 L in [15:0] $end
$var wire 1 - r_or_w $end
$var wire 16 M reg_addr [15:0] $end
$var parameter 32 N REG_NUM $end
$var parameter 32 O WIDTH $end
$var reg 16 P out [15:0] $end
$upscope $end
$scope module Rom $end
$var wire 8 Q addr [7:0] $end
$var wire 1 ! clk $end
$var parameter 32 R RAM_ADDR_BITS $end
$var parameter 32 S RAM_WORD_WIDTH $end
$var reg 24 T data [23:0] $end
$upscope $end
$scope module Stack $end
$var wire 1 ! clk $end
$var wire 8 U data_in [7:0] $end
$var wire 1 % pop $end
$var wire 1 $ push $end
$var wire 1 9 rst $end
$var wire 8 V data_out [7:0] $end
$var parameter 32 W DEPTH $end
$var parameter 32 X WIDTH $end
$var reg 1 ' empty $end
$var reg 1 & full $end
$var reg 3 Y top [2:0] $end
$upscope $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b1000 X
b1000 W
b11000 S
b1000 R
b10000 O
b10000 N
b10000 H
b10000 @
b10000 ;
$end
#0
$dumpvars
b0 Y
bz V
b0 U
b100010000000000000000 T
b0 Q
bz P
bz M
b0 L
b0 K
bz J
b0 I
b0 G
b0 F
b0 E
b10001 D
b1 C
b10001 B
b0 A
b0 ?
bz >
b10001 =
b0 <
b0 :
09
b0 8
07
b0 6
05
b0 4
x3
02
01
b0 0
b10001 /
b0 .
0-
bz ,
bz +
0*
b100010000000000000000 )
0(
1'
0&
0%
0$
b0 #
0"
1!
$end
#1000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b1 #
0!
#2000
b10 #
1!
#3000
b101 8
b101 4
b101 :
b101 A
b101 0
b101 ?
b101 I
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b11 #
0!
#4000
b100 #
1!
#5000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b10101 .
b10101 K
b10101 Q
b10101 U
b101 6
b101 <
b101 F
b101 L
b101 #
0!
#6000
b110 #
1!
#7000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b111 #
0!
#8000
b1000 #
1!
#9000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b10111 .
b10111 K
b10111 Q
b10111 U
b11 6
b11 <
b11 F
b11 L
b1001 #
0!
#10000
b1010 #
1!
#11000
b1101 8
bz ,
bz >
bz P
1-
07
b1111 /
b1111 =
b1111 D
b1101 4
b1101 :
b1101 A
b10 M
b10 G
b1111 B
b1000 0
b1000 ?
b1000 I
b11110000000000000010 )
b11110000000000000010 T
b1000 6
b1000 <
b1000 F
b1000 L
b11000 .
b11000 K
b11000 Q
b11000 U
b1011 #
0!
#12000
b1100 #
1!
#13000
b10 J
1%
0-
0*
12
b1 E
b1101 /
b1101 =
b1101 D
bz M
b0 G
b1101 B
b11010000000000000000 )
b11010000000000000000 T
b11001 .
b11001 K
b11001 Q
b11001 U
b1101 #
0!
#14000
b1110 #
1!
#15000
b0 8
19
b0 4
b0 :
b0 A
1(
02
b10010 /
b10010 =
b10010 D
b10010 B
0%
b100100000000000000000 )
b100100000000000000000 T
b0 E
b10 .
b10 K
b10 Q
b10 U
b1 C
1'
bz J
bz +
bz V
b0 Y
b1111 #
0!
#16000
b10000 #
1!
#17000
09
0(
b10001 /
b10001 =
b10001 D
b10001 B
b100010000000000000000 )
b100010000000000000000 T
b0 .
b0 K
b0 Q
b0 U
b10001 #
0!
#18000
b10010 #
1!
#19000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b10011 #
0!
#20000
b10100 #
1!
#21000
b101 8
b101 0
b101 ?
b101 I
b101 4
b101 :
b101 A
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b10101 #
0!
#22000
b10110 #
1!
#23000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b101 6
b101 <
b101 F
b101 L
b10101 .
b10101 K
b10101 Q
b10101 U
b10111 #
0!
#24000
b11000 #
1!
#25000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b11001 #
0!
#26000
b11010 #
1!
#27000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b11 6
b11 <
b11 F
b11 L
b10111 .
b10111 K
b10111 Q
b10111 U
b11011 #
0!
#28000
b11100 #
1!
#29000
b1101 8
bz ,
bz >
bz P
1-
07
b1111 /
b1111 =
b1111 D
b1101 4
b1101 :
b1101 A
b10 M
b10 G
b1111 B
b11110000000000000010 )
b11110000000000000010 T
b1000 0
b1000 ?
b1000 I
b11000 .
b11000 K
b11000 Q
b11000 U
b1000 6
b1000 <
b1000 F
b1000 L
b11101 #
0!
#30000
b11110 #
1!
#31000
b10 J
1%
0-
0*
12
b1 E
b1101 /
b1101 =
b1101 D
bz M
b0 G
b1101 B
b11010000000000000000 )
b11010000000000000000 T
b11001 .
b11001 K
b11001 Q
b11001 U
b11111 #
0!
#32000
b100000 #
1!
#33000
b0 8
19
b0 4
b0 :
b0 A
1(
02
b10010 /
b10010 =
b10010 D
b10010 B
0%
b100100000000000000000 )
b100100000000000000000 T
b0 E
b10 .
b10 K
b10 Q
b10 U
b1 C
1'
bz J
bz +
bz V
b0 Y
b100001 #
0!
#34000
b100010 #
1!
#35000
09
0(
b10001 /
b10001 =
b10001 D
b10001 B
b100010000000000000000 )
b100010000000000000000 T
b0 .
b0 K
b0 Q
b0 U
b100011 #
0!
#36000
b100100 #
1!
#37000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b100101 #
0!
#38000
b100110 #
1!
#39000
b101 8
b101 0
b101 ?
b101 I
b101 4
b101 :
b101 A
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b100111 #
0!
#40000
b101000 #
1!
#41000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b10101 .
b10101 K
b10101 Q
b10101 U
b101 6
b101 <
b101 F
b101 L
b101001 #
0!
#42000
b101010 #
1!
#43000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b101011 #
0!
#44000
b101100 #
1!
#45000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b10111 .
b10111 K
b10111 Q
b10111 U
b11 6
b11 <
b11 F
b11 L
b101101 #
0!
#46000
b101110 #
1!
#47000
b1101 8
bz ,
bz >
bz P
1-
07
b1111 /
b1111 =
b1111 D
b1101 4
b1101 :
b1101 A
b10 M
b10 G
b1111 B
b1000 0
b1000 ?
b1000 I
b11110000000000000010 )
b11110000000000000010 T
b1000 6
b1000 <
b1000 F
b1000 L
b11000 .
b11000 K
b11000 Q
b11000 U
b101111 #
0!
#48000
b110000 #
1!
#49000
b10 J
1%
0-
0*
12
b1 E
b1101 /
b1101 =
b1101 D
bz M
b0 G
b1101 B
b11010000000000000000 )
b11010000000000000000 T
b11001 .
b11001 K
b11001 Q
b11001 U
b110001 #
0!
#50000
b110010 #
1!
#51000
b0 8
19
b0 4
b0 :
b0 A
1(
02
b10010 /
b10010 =
b10010 D
b10010 B
0%
b100100000000000000000 )
b100100000000000000000 T
b0 E
b10 .
b10 K
b10 Q
b10 U
b1 C
1'
bz J
bz +
bz V
b0 Y
b110011 #
0!
#52000
b110100 #
1!
#53000
09
0(
b10001 /
b10001 =
b10001 D
b10001 B
b100010000000000000000 )
b100010000000000000000 T
b0 .
b0 K
b0 Q
b0 U
b110101 #
0!
#54000
b110110 #
1!
#55000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b110111 #
0!
#56000
b111000 #
1!
#57000
b101 8
b101 0
b101 ?
b101 I
b101 4
b101 :
b101 A
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b111001 #
0!
#58000
b111010 #
1!
#59000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b101 6
b101 <
b101 F
b101 L
b10101 .
b10101 K
b10101 Q
b10101 U
b111011 #
0!
#60000
b111100 #
1!
#61000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b111101 #
0!
#62000
b111110 #
1!
#63000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b11 6
b11 <
b11 F
b11 L
b10111 .
b10111 K
b10111 Q
b10111 U
b111111 #
0!
#64000
b1000000 #
1!
#65000
b1101 8
bz ,
bz >
bz P
1-
07
b1111 /
b1111 =
b1111 D
b1101 4
b1101 :
b1101 A
b10 M
b10 G
b1111 B
b11110000000000000010 )
b11110000000000000010 T
b1000 0
b1000 ?
b1000 I
b11000 .
b11000 K
b11000 Q
b11000 U
b1000 6
b1000 <
b1000 F
b1000 L
b1000001 #
0!
#66000
b1000010 #
1!
#67000
b10 J
1%
0-
0*
12
b1 E
b1101 /
b1101 =
b1101 D
bz M
b0 G
b1101 B
b11010000000000000000 )
b11010000000000000000 T
b11001 .
b11001 K
b11001 Q
b11001 U
b1000011 #
0!
#68000
b1000100 #
1!
#69000
b0 8
19
b0 4
b0 :
b0 A
1(
02
b10010 /
b10010 =
b10010 D
b10010 B
0%
b100100000000000000000 )
b100100000000000000000 T
b0 E
b10 .
b10 K
b10 Q
b10 U
b1 C
1'
bz J
bz +
bz V
b0 Y
b1000101 #
0!
#70000
b1000110 #
1!
#71000
09
0(
b10001 /
b10001 =
b10001 D
b10001 B
b100010000000000000000 )
b100010000000000000000 T
b0 .
b0 K
b0 Q
b0 U
b1000111 #
0!
#72000
b1001000 #
1!
#73000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b1001001 #
0!
#74000
b1001010 #
1!
#75000
b101 8
b101 0
b101 ?
b101 I
b101 4
b101 :
b101 A
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b1001011 #
0!
#76000
b1001100 #
1!
#77000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b10101 .
b10101 K
b10101 Q
b10101 U
b101 6
b101 <
b101 F
b101 L
b1001101 #
0!
#78000
b1001110 #
1!
#79000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b1001111 #
0!
#80000
b1010000 #
1!
#81000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b10111 .
b10111 K
b10111 Q
b10111 U
b11 6
b11 <
b11 F
b11 L
b1010001 #
0!
#82000
b1010010 #
1!
#83000
b1101 8
bz ,
bz >
bz P
1-
07
b1111 /
b1111 =
b1111 D
b1101 4
b1101 :
b1101 A
b10 M
b10 G
b1111 B
b1000 0
b1000 ?
b1000 I
b11110000000000000010 )
b11110000000000000010 T
b1000 6
b1000 <
b1000 F
b1000 L
b11000 .
b11000 K
b11000 Q
b11000 U
b1010011 #
0!
#84000
b1010100 #
1!
#85000
b10 J
1%
0-
0*
12
b1 E
b1101 /
b1101 =
b1101 D
bz M
b0 G
b1101 B
b11010000000000000000 )
b11010000000000000000 T
b11001 .
b11001 K
b11001 Q
b11001 U
b1010101 #
0!
#86000
b1010110 #
1!
#87000
b0 8
19
b0 4
b0 :
b0 A
1(
02
b10010 /
b10010 =
b10010 D
b10010 B
0%
b100100000000000000000 )
b100100000000000000000 T
b0 E
b10 .
b10 K
b10 Q
b10 U
b1 C
1'
bz J
bz +
bz V
b0 Y
b1010111 #
0!
#88000
b1011000 #
1!
#89000
09
0(
b10001 /
b10001 =
b10001 D
b10001 B
b100010000000000000000 )
b100010000000000000000 T
b0 .
b0 K
b0 Q
b0 U
b1011001 #
0!
#90000
b1011010 #
1!
#91000
b10100 J
1$
12
b10 E
b1100 /
b1100 =
b1100 D
b10100 G
b1100 B
b11000000000000010100 )
b11000000000000010100 T
b1 .
b1 K
b1 Q
b1 U
b1011011 #
0!
#92000
b1011100 #
1!
#93000
b101 8
b101 0
b101 ?
b101 I
b101 4
b101 :
b101 A
0$
11
17
02
b0 E
b10000 /
b10000 =
b10000 D
bz J
b101 G
b10000 B
b100000000000000000101 )
b100000000000000000101 T
b1 +
b1 V
b10100 .
b10100 K
b10100 Q
b10100 U
b0 C
0'
b1 Y
b1011101 #
0!
#94000
b1011110 #
1!
#95000
b1 M
b101 0
b101 ?
b101 I
01
1-
1*
07
b1111 /
b1111 =
b1111 D
b1 G
b1111 B
b11110000000000000001 )
b11110000000000000001 T
b101 6
b101 <
b101 F
b101 L
b10101 .
b10101 K
b10101 Q
b10101 U
b1011111 #
0!
#96000
b1100000 #
1!
#97000
b11 8
b11 4
b11 :
b11 A
b11 0
b11 ?
b11 I
11
0-
0*
17
b10000 /
b10000 =
b10000 D
bz M
b11 G
b10000 B
b100000000000000000011 )
b100000000000000000011 T
b10110 .
b10110 K
b10110 Q
b10110 U
b1100001 #
0!
#98000
b1100010 #
1!
#99000
b1000 8
b101 ,
b101 >
b101 P
b1000 4
b1000 :
b1000 A
b1 M
b11 0
b11 ?
b11 I
01
1*
b101 /
b101 =
b101 D
b1 G
b101 B
b1010000000000000001 )
b1010000000000000001 T
b11 6
b11 <
b11 F
b11 L
b10111 .
b10111 K
b10111 Q
b10111 U
b1100011 #
0!
#100000
b1100100 #
1!
